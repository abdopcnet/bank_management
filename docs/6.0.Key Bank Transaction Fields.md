# Key Bank Transaction Fields

## Basic Fields:

-   `date`: Transaction date
-   `bank_account`: Bank account
-   `company`: Company (automatic)
-   `deposit`: Deposit amount
-   `withdrawal`: Withdrawal amount
-   `currency`: Currency (automatic)
-   `description`: Description
-   `reference_number`: **Reference number (needed for reconciliation)**
-   `transaction_type`: Transaction type (Data field)
    -   **Usage**: Auto-copied to `mode_of_payment` when Create Voucher
    -   **Example**: "Wire Transfer", "Cheque", "Cash"
-   `party_type`: Party type
-   `party`: Party

## Fee Fields:

-   `included_fee`: Included fees
-   `excluded_fee`: Separate fees

## Reconciliation Fields:

-   `payment_entries`: Table of matched vouchers
    -   `payment_document`: Voucher type
    -   `payment_entry`: Voucher number
    -   `allocated_amount`: Allocated amount
-   `allocated_amount`: Total allocated amount (automatic)
-   `unallocated_amount`: Unallocated amount (automatic)
    -   **Formula**: `|deposit - withdrawal| - allocated_amount`

## Status:

-   `status`: Pending / Settled / Unreconciled / Reconciled / Cancelled
    -   **Reconciled**: When `unallocated_amount = 0`
